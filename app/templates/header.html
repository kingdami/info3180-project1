<nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="#">Project 1</a>
        </div>
        <div id="navbar" class="collapse navbar-collapse">
          <ul class="nav navbar-nav">
            <li class="active"><a href="{{ url_for('home') }}">Home</a></li>
            <li><a href="{{ url_for('about') }}">About</a></li>
            <li><a href="{{ url_for('profile') }}">Create User</a></li>
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">View Profiles <span class="caret"></span></a>
              <ul class="dropdown-menu">
                <li><a href="{{ url_for('profiles') }}">HTML</a></li>
                <li ><a id="json" href="{{ url_for('profiles') }}">JSON</a></li>
              </ul>
            </li>
            
          </ul>
        </div><!--/.nav-collapse -->
      </div>
</nav>
<script type=text/javascript>
/* global $ */

document.getElementById('json').onclick = function(e) {
    e.preventDefault(); // cancel the link itself
    var request = new XMLHttpRequest();
    request.open("POST", "{{ url_for('profiles') }}", true);
    request.setRequestHeader("Content-type", "application/json");
   
    request.send();
    console.log("here");

    request.onreadystatechange = function (response) { 
    if (request.readyState == 4 && request.status == 200) {
      console.log("here");
      window.location.href = response;
    }
};
};
</script>
